arr1 = "Hey, today is Saturday and it's a weird day today"
arr2 = "Python is a high level language"
# arr2 = "Python Python is a high level language"
arr3 = "Python Python is a high level and interpreted language"
arr4 = "File handling is easier with python language"
arr5 = "Python is beginner friendly and easy to read"

stop_words = ["is", "a", "and", "the", "an", ",", "."]

# Step 1: Split all sentences
all_sentences = [arr1, arr2, arr3, arr4, arr5]
split_sentences = [sentence.split() for sentence in all_sentences]

# Step 2: Remove stopwords (case-insensitive)
filtered_sentences = [
    [word for word in sentence if word.lower() not in stop_words]
    for sentence in split_sentences
]

# Step 3: Function to count words manually
def get_word_count(word_list):
    word_count = {}
    for word in word_list:
        word_l = word.lower()
        if word_l in word_count:
            word_count[word_l] += 1
        else:
            word_count[word_l] = 1
    return word_count

# Step 4: Compare all pairs of sentences
results = []
for i in range(len(filtered_sentences)):
    for j in range(i + 1, len(filtered_sentences)):
        arr_i = filtered_sentences[i]
        arr_j = filtered_sentences[j]

        count_i = get_word_count(arr_i)
        count_j = get_word_count(arr_j)

        common_words = {}
        for word in count_i:
            if word in count_j:
                common_words[word] = min(count_i[word], count_j[word])

        similarity_score = sum(common_words.values())
        pair_id = f"{i+1}{j+1}"

        results.append((similarity_score, pair_id, arr_i, arr_j, common_words))

# Step 5: Sort by similarity score descending
results = sorted(results, key=lambda x: x[0], reverse=True)

# Step 6: Print results
print("Input Sentences:")
for idx, sentence in enumerate(all_sentences, start=1):
    print(f"{idx}. {sentence}")
print("\n")

print("Stop Words:")
print(stop_words, "\n")

for similarity_score, pair_id, arr_i, arr_j, common_words in results:
    print(f"Sentence Number {pair_id[0]}: {arr_i}")
    print(f"Sentence Number {pair_id[1]}: {arr_j}")
    print(f"Common Words={common_words}")
    print(f"Similarity_Score={similarity_score}\n")
